---
title: "系统架构设计师最后冲刺"
date: 2023-11-03T17:21:12+08:00
draft: true
---

## 必背概念

### **架构风格**

- 软件架构为软件系统提供了一个**结构、行为和属性**的高级抽象
- 软件架构风格是特定应用领域的**惯用模式**，架构定义一个**词汇表**和一组**约束**
- 数据流：面向数据流，按照一定的顺序从前向后执行程序
  - 批处理：以**整体**为单位
  - 管道-过滤器：优点是模块复用、模块独立、可维护性和可扩展行较强、具有并发性；缺点是**不适用于交互性较强的应用**
- 调用/返回：构件之间存在互相调用的关系，一般是显式调用
  - 主程序/子程序
  - 面向对象：优点是模块化、封装、代码共享性好、易维护、可扩充性好；缺点是增加了对象之间的依赖关系
  - 层次结构：支持系统设计过程中的逐级抽象、可扩展性好、支持软件复用；缺点是不同层次之间耦合度高的系统很难实现
- 独立构件：构件之间是相互独立的，不存在显式调用，而是通过事件触发，异步执行
  - 进程通信
  - 事件驱动(隐式调用)：容易实现**并发处理和多任务**、可扩展性好、具有类层次结构、简化代码；缺点是因为是树形结构所以削弱了对系统计算的控制能力、各个**对象间的关系复杂**
- 虚拟机：自定义了一套规则供提供者使用，使用者基于规则来**灵活**开发构件
  - 解释器
  - 规则系统：适用场景为 DSS、人工智能、专家系统
- 仓库：以数据为中心，所有的操作都是围绕数据中心进行的
  - 数据库
  - 超文本
  - 黑板：适用场景为语音识别、知识推理
- 闭环控制：软件与硬件之间可以粗略的表示为一个反馈循环。适用场景为定速巡航、空调温度调节
- C2：通过连接件绑定在一起的按照一组规则运作的并行构件网络

### **质量属性**

- 性能
  - 指系统的响应能力，即要经过多长时间能对某个事件作出响应，或者在某段时间内系统所能处理的事件个数。如**响应时间、吞吐量**
  - **优先级队列、增加计算资源、减少计算开销、引入并发机制、采用资源调度**等
- 可用性
  - 是系统能够正常运行的时间比例，经常用**故障间隔时间**表示
  - **心跳、Ping/Echo、冗余、选举**
- 可靠性
  - 指软件系统在应用或系统错误面前，在意外或错误使用的情况下维持软件系统功能特性的基本能力。如 MTTF、MTBF、MTTR
  - 心跳、Ping/Echo、冗余、选举
  - 与可用性同时出现时选可用性
- 安全性
  - 是指系统在向合法用户提供服务的同时能够阻止非授权用户使用的企图或拒绝服务的能力。如保密性、完整性、不可抵赖性、可控性
  - **入侵检测、用户认证、用户授权、追踪审计**
- 可修改性
  - 指能够快速的以较高的性价比对系统进行变更的能力
  - 接口实现分离、抽象、信息隐藏
- 可变性
  - 指体系结构经扩充或变更而成为新的体系结构的能力
  - 与可修改性同时出现时选可修改性
- 功能性
  - 指系统所能完成所期望的工作的能力
- 互操作性
  - 指作为系统组成部分的软件不是独立存在的，经常与其他系统或自身环境相互作用

### 软件过程模型

- 瀑布模型
  - 从上一项开发活动接受该活动的工作对象作为输入
  - 实施该项活动完成对应的工作内容
  - 工作成果作为输出
  - 对工作成果进行评审，通过进行下一项，否则返回前一项
- 原型模型
  - 第一步就是创建一个快速原型，与客户讨论弄清楚当前系统的需求
  - 对用户的需求是动态响应、逐步纳入的
- 螺旋模型
  - 是一个演化过程模型
  - 将原型模型和瀑布模型结合起来
  - 四个阶段分别为：制定计划、风险分析、实施工程、客户评估
  - **强调了风险分析，适用于庞大复杂的高风险系统**
- V 模型
  - 每个步骤有对应的测试
  - 用于需求明确和需求变更不频繁的情况
- 增量模型
  - 首先开发核心模块功能，然后与用户确认，每次开发一部分功能，并于用户确认
  - 优先级最高的服务最先交付
  - **不利于模块划分**，难点在于如何将客户需求划分为多个增量
  - 与原型模型不同的是增量模型每个增量版本都是独立可操作的作品
- 敏捷模型
  - 核心思想是**适应性、以人为本、迭代增量**
- **统一过程模型 RUP**
  - 9 个核型工作流：业务建模、需求、分析与设计、实现、测试、部署、配置与变更管理、项目管理、环境
  - 特点：用例驱动、以体系结构为中心
  - 四个阶段
    - 初始阶段：定义最终产品视图和业务模型，并**确定系统范围**
    - 细化阶段：**设计及确定系统的体系结构**，制订工作计划及资源要求
    - 构造阶段：**构造产品并继续演进需求**、体系结构、计划直到产品提交
    - 移交阶段：把产品提交给**用户使用**
  - 4+1 视图模型
    - 用例视图，分析人员和测试人员关注
    - 逻辑视图，最终用户关注
    - 实现视图，程序员关注
    - 进程视图，系统集成人员关注
    - 部署视图，系统工程师关注

### 结构化的需求分析

- 结构化的特点：**自顶向下、逐步分解、面向数据**
- 三大模型及数据字典：**功能模型(数据流图)、行为模型(状态转换图)、数据模型(E-R 图)**
  - 数据流图 DFD：数据流、加工、数据存储、外部实体
    - 数据的流向必须经过加工
  - 状态转换图 STD：状态、事件
  - 实体联系图 ER：实体、联系
  - 数据字典：数据元素、数据结构、数据流、数据存储、加工逻辑、外部实体
    - 数据字典就是为数据流中的每个数据流、文件、加工以及组成数据流或文件的数据项作出说明

### 面向对象的需求分析

- 五个活动：认定对象、组织对象、描述对象间的相互作用、确定对象的操作、定义对象的内部信息
- 分析模型
  - 顶层架构图
  - 用例与用例图
  - 领域(分析)概念模型
- 设计模型
  - 软件体系结构图：包图表示
  - 用例实现图：交互图表示
  - 类图
  - 状态图：针对复杂对象
  - 活动图：描述流程化处理过程

### 统一建模语言 UML

- 可视化的建模语言，而非程序设计语言
- 结构包括**构造块(事物、关系、图)、规则和公共机制**
- 关系
  - 关联：没啥特殊的; 实线
  - 组合：部分和整体，手和人; 实线带菱形实心箭头
  - 聚合：部分和整体，大雁和雁群；实线带另菱形空心箭头
  - 依赖：一个事物的语义依赖于另一个事物的语义的变化而变化; 虚线带实心三角箭头
  - 泛化：一般/特殊的关系，子类和父类；实线带空心三角箭头
  - 实现：一个类元指定了另一个类元保证的契约；虚线带空心三角箭头
- 静态图
  - 类图：展现一组对象、接口、协作和它们之间的关系
  - 对象图：展现某一时刻一组对象及它们之间的关系，为类图的快照
  - 用例图：展现一组用例、参与者以及它们之间的关系
  - 构件(组件)图：展现一组构件之间的组织和依赖
  - 部署图：展现物理模块的节点分布，通常一个节点包含一个或多个构件
- 动态图
  - 序列(顺序)图：描述以时间顺序组织的对象之间的交互活动
  - 通信(协作)图：强调参加交互对象的组织
  - 状态图：展现一个状态机，描述单个对象在多个用例中的行为，包括简单的状态和组合状态。转换可以通过事件触发器触发，事件触发后相应的监护条件会进行检查。
  - 活动图：一种特殊的状态图，展现了系统内从一个活动到另一个活动的流程

### 设计模式

- 创建型
  - 抽象工厂(Abstract Factory)：提供一个接口，可以创建一系列相关或互相依赖的对象，而**无需指定它们具体的类**
  - 构建器(Builder)：将一个复杂类的**表示与其构造相分离**，使得相同的构建过程能得出不同的表示
  - 工厂方法(Factory Method)：定义一个创建对象的接口，但**由子类决定需要实例化哪一个类**，使得子类实例化过程推迟
  - 原型(Prototype)：用原型实例指定创建对象的类型，并且**通过拷贝这个原型来创建新的对象**
  - 单例(Singleton)：保证**一个类只有一个实例**，并且提供一个访问它的全局访问点
- 结构型
  - 适配器(Adapter)：将一个类的接口**转换**成用户希望得到的另一种接口，它是原本不**兼容**的接口得以协同工作
  - 桥接(Bridge)：将类的**抽象部分和它的实现部分分离**开来，使得它们可以独立变化
  - 组合(Composite)：将对象组合成**树形结构**以表示“整体-部分”的层次结构，使得用户对单个对象和组合对象的使用具有一致性
  - 装饰(Decorator)：动态的给一个对象**添加一些额外的职责**。提供了用子类扩展功能的一个灵活的替代
  - 外观(Facade)：定义一个**对外统一的高层接口**，为子系统中的一组接口提供一个一致的外观，从而简化了该子系统的使用
  - 享元(Flyweight)：提供支持大量**细粒度对象共享**的有效方法
  - 代理(Proxy)：为其他对象提供一种**代理控制**这个对象的访问
- 行为型
  - 职责链(Chain of Responsibility)：传递请求、职责链接
  - 命令(Command)：日志记录、可撤销
  - 解释器(Interpreter)：解释器、虚拟机
  - 迭代器(Iterator)：顺序访问、不暴露内部
  - 中介者(Mediator)：不直接引用
  - 备忘录(Memento)：保存、恢复
  - 观察者(Observer)：通知、自动更新
  - 状态(State)：状态改变行为
  - 策略(Strategy)：算法替换
  - 模版方法(Template Method)：算法骨架、步骤延迟、子类实现
  - 访问者(Visitor)：数据和操作分离

## 论文思路

### 整体结构

- 摘要
- 项目背景
- 项目启动时间、岗位、职责、投入、建设周期、项目主要建设内容、技术架构
- **按题目，回应问题，分层结构**
- 开发时间、投入使用后的作用、反馈良好、系统建设困难克服困难、不懈努力后顺利交付

### 分层思路

- 层次式架构
  - 用户界面表示层
    - Vue：组件化、轻量级、双向数据绑定、学习成本低
    - Vuex：状态集中管理、组件间共享
    - Element UI：美观度、主题适合
  - 负载均衡控制层
    - RESTful：简单、松耦合、自文档
    - Spring Web
    - Ngnix：高性能、配置灵活
    - Spring Security
  - 业务逻辑处理层
    - 规则引擎
    - MVEL：可编译、性能
    - Microsoft Language Server Protocol：语法分析、自动完成、调试
    - Monaco Editor
    - 版本控制
  - 数据访问层
    - Redis：高可用、简单
    - DBMS：举例子
- 大数据架构 Kappa
  - 数据采集层
    - Kafka：高吞吐量处理大数据流、持久性、容错、社区支持
    - 数据标准化
    - 历史数据重放
  - 数据处理层
    - Flink：实时处理、事件处理、状态管理、精确一次处理确保数据处理不重复
    - 规则引擎
    - MVEL：可编译、性能
    - Microsoft Language Server Protocol：语法分析、自动完成、调试
    - Monaco Editor
    - 版本控制
    - 举例子
  - 数据存储层
    - Hadoop：分布式海量数据存储、高容错、可伸缩、安全、数据压缩、通过计算和分布式实现容错成本较低
    - Redis：高可用、简单
  - 数据展现层和安全监控层
    - Vue：组件化、轻量级、双向数据绑定、学习成本低
    - Vuex：状态集中管理、组件间共享
    - Element UI：美观度、主题适合
    - Zabbix：全面实时监控、报警、灵活、自动发现
- 面向服务的架构 SOA
  - 服务注册中心
    - ESB：集成了不同协议的不同服务，做了消息的转化、解释以及路由的工作，让不同的服务联通
  - 服务请求者
    - 客户端
  - 服务提供者
    - 各种类型不同实现方式的规则
    - 规则引擎
    - 数据同步
- 论系统建模方法及其应用
  - 结构化的特点：**自顶向下、逐步分解、面向数据**
  - 三大模型及数据字典：**功能模型(数据流图)、行为模型(状态转换图)、数据模型(E-R 图)**
  - 功能模型
    - 质控流程数据流向
  - 行为模型
    - 违规状态变换
  - 数据模型
    - 哪些实体和它们的联系
- 论软件系统架构风格
  - 5 大风格介绍
  - 规则系统
  - 仓库-数据库
  - 批处理
  - 层次化和面向对象
- 论软件架构的评估
  - 场景和需求收集
  - 体系结构视图和场景实现
  - 属性模型构造和分析
  - 折中
